<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lofi Wallpaper Paradise</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460, #533483);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            height: 100vh;
            overflow: hidden;
            margin: 0;
            padding: 0;
            transition: background 1s ease;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .video-container {
            position: relative;
            width: 45%;
            margin: 0 auto;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 3px solid rgba(255, 255, 255, 0.1);
            aspect-ratio: 16/9;
        }

        .btn-lofi {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            padding: 10px 20px;
            color: white;
            transition: all 0.3s ease;
            margin: 0 8px;
            font-weight: 500;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            white-space: nowrap;
        }

        .btn-lofi:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(0, 0, 0, 0.2);
        }

        .btn-lofi.active {
            background: rgba(255, 255, 255, 0.3);
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .buttons-container {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            background: transparent;
            padding: 10px;
            border-radius: 30px;
            width: auto;
        }

        .fullscreen-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .fullscreen-btn:hover {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 0.3);
        }

        .sakura {
            position: absolute;
            background-size: contain;
            background-repeat: no-repeat;
            pointer-events: none;
            opacity: 0.8;
            z-index: -1;
            filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.3));
        }

        .cat {
            position: absolute;
            width: 80px;
            height: 80px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            pointer-events: none;
            z-index: 50;
            transition: transform 0.3s ease;
            opacity: 0.85;
        }

        .cat:hover {
            transform: scale(1.2);
        }

        /* Quote container */
        .quote-container {
            position: fixed;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
            max-width: 80%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            border-radius: 15px;
            padding: 15px 25px;
            color: white;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            z-index: 100;
            opacity: 0.9;
            transition: opacity 0.5s ease;
        }

        .quote-text, .quote-author {
            transition: opacity 1s ease, transform 1s ease;
        }

        .quote-text.fade-out, .quote-author.fade-out {
            opacity: 0;
            transform: translateY(-10px);
        }

        .quote-text.fade-in, .quote-author.fade-in {
            opacity: 1;
            transform: translateY(0);
        }

        .quote-text {
            font-size: 1rem;
            font-style: italic;
            margin-bottom: 10px;
        }

        .quote-author {
            font-size: 0.9rem;
            font-weight: 300;
            text-align: right;
        }

        /* Horloge numérique */
        .digital-clock {
            position: fixed;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            border-radius: 10px;
            padding: 8px 16px;
            color: #ff79c6;
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            font-weight: bold;
            letter-spacing: 2px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            z-index: 101;
            text-shadow: 0 0 5px rgba(255, 121, 198, 0.7);
            border: 1px solid rgba(255, 121, 198, 0.3);
        }

        .digital-clock:after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(255, 121, 198, 0.1), transparent);
            border-radius: 10px;
            pointer-events: none;
        }

        /* Style amélioré pour les GIFs de chats de chaque côté */
        .cat-gif {
            position: fixed;
            width: 200px;
            height: 200px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            z-index: 10;
            top: 50%;
            transform: translateY(-50%);
        }

        .cat-gif-left {
            left: 16.7%; /* Centré dans le premier tiers */
            transform: translate(-50%, -50%);
        }

        .cat-gif-right {
            right: 16.7%; /* Centré dans le dernier tiers */
            transform: translate(50%, -50%);
        }

        /* Éléments Lofi */
        .music-note {
            position: absolute;
            width: 30px;
            height: 30px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0.7;
            pointer-events: none;
            z-index: 5;
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
            100% { transform: translateY(0) rotate(0deg); }
        }

        .star {
            position: absolute;
            width: 3px;
            height: 3px;
            background-color: white;
            border-radius: 50%;
            z-index: 2;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .cloud {
            position: absolute;
            width: 100px;
            height: 60px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            z-index: 3;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .cloud:before, .cloud:after {
            content: '';
            position: absolute;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
        }

        .cloud:before {
            width: 60px;
            height: 60px;
            top: -30px;
            left: 15px;
        }

        .cloud:after {
            width: 80px;
            height: 80px;
            top: -40px;
            right: 15px;
        }

        @keyframes drift {
            0% { transform: translateX(-150px); }
            100% { transform: translateX(calc(100vw + 150px)); }
        }

        /* Flying cat animation */
        .flying-cat {
            position: absolute;
            width: 56px;
            height: 56px;
            pointer-events: none;
            z-index: 50;
            animation: floatCat 30s infinite ease-in-out;
        }

        @keyframes floatCat {
            0% {
                transform: translate(0, 0);
            }
            25% {
                transform: translate(40vw, -10vh) rotate(5deg);
            }
            50% {
                transform: translate(80vw, 20vh) rotate(-5deg);
            }
            75% {
                transform: translate(40vw, 40vh) rotate(10deg);
            }
            100% {
                transform: translate(0, 0);
            }
        }

        /* Boutons flottants */
        .btn-flower {
            position: absolute;
            background: #ffe0f0;
            border: none;
            padding: 15px;
            border-radius: 50%;
            font-size: 1.8em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            z-index: 90;
        }

        .btn-flower:hover {
            transform: scale(1.2);
        }

        @media (max-width: 1024px) {
            .buttons-container {
                flex-wrap: nowrap;
                width: 90%;
                justify-content: space-between;
                overflow-x: auto;
                padding: 10px 5px;
            }
            
            .btn-lofi {
                margin: 0 4px;
                padding: 8px 16px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 768px) {
            .video-container {
                width: 95%;
            }
            
            .btn-lofi {
                margin: 0 3px;
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .cat-gif {
                width: 120px;
                height: 120px;
            }

            .cat-gif-left {
                left: 15%;
            }

            .cat-gif-right {
                right: 15%;
            }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen">
    <!-- Horloge numérique -->
    <div class="digital-clock" id="digitalClock">00:00:00</div>

    <div class="quote-container">
        <p class="quote-text fade-in">"Lofi beats - where time slows down, and inspiration speeds up."</p>
        <p class="quote-author fade-in">- Chill Vibes Collective</p>
    </div>

    <!-- GIFs de chats repositionnés -->
    <div class="cat-gif cat-gif-left" style="background-image: url('https://i.pinimg.com/originals/cf/94/20/cf94204d9c184ff030c707026ce3deb4.gif');"></div>
    <div class="cat-gif cat-gif-right" style="background-image: url('https://i.pinimg.com/originals/f9/42/5e/f9425ec6e73ca64317310db4a3f3e05c.gif');"></div>

    <!-- Boutons flottants -->
    <button class="btn-flower" style="top: 30%; left: 30%;" onclick="moveButton(this)">🌸</button>
    <button class="btn-flower" style="top: 50%; left: 50%;" onclick="moveButton(this)">🌼</button>
    <button class="btn-flower" style="top: 70%; left: 40%;" onclick="moveButton(this)">🌺</button>

    <!-- Flying cats -->
    <img src="https://media.tenor.com/j1PyzHn_-g8AAAAi/cat-loaf.gif" class="flying-cat" style="top: 10%; left: 0%; animation-delay: 0s;">
    <img src="https://media.tenor.com/Di8zK1kVdrAAAAAi/cute-cat.gif" class="flying-cat" style="top: 30%; left: -10%; animation-delay: 5s;">
    <img src="https://media.tenor.com/9-rLn6gzoQwAAAAi/kawaii-cat.gif" class="flying-cat" style="top: 50%; left: -20%; animation-delay: 10s;">
    <img src="https://media.tenor.com/Mng3HlhDFSUAAAAi/pusheen-laptop.gif" class="flying-cat" style="top: 15%; left: 5%; animation-delay: 8s;">
    <img src="https://media.tenor.com/V3kgz1qBslYAAAAi/cat-pixel.gif" class="flying-cat" style="top: 70%; left: 10%; animation-delay: 3s;">
    <img src="https://media.tenor.com/6rIyB7G3UQsAAAAi/cute-cat.gif" class="flying-cat" style="top: 25%; left: 15%; animation-delay: 15s;">

    <div class="video-container mb-8">
        <iframe id="lofiVideo" width="100%" height="100%" src="https://www.youtube.com/embed/jfKfPfyJRdk?autoplay=1&mute=0&controls=1&loop=1&enablejsapi=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>

    <div class="buttons-container">
        <button class="btn-lofi active" data-type="chill" data-video-id="jfKfPfyJRdk">Lofi Radio 24/7</button>
        <button class="btn-lofi" data-type="study" data-video-id="lTRiuFIWV54">Focus Study Mix</button>
        <button class="btn-lofi" data-type="sleep" data-video-id="rPjez8z61rI">Sleep Beats</button>
        <button class="btn-lofi" data-type="jazzy" data-video-id="5yx6BWlEVcY">Jazz Hop Café</button>
        <button class="btn-lofi" data-type="space" data-video-id="n61ULEU7CO0">Space Ambient Mix</button>
    </div>

    <div class="fullscreen-btn" id="fullscreenBtn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white">
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
        </svg>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        // YouTube API player
        let player;
        
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('lofiVideo', {
                events: {
                    'onReady': onPlayerReady
                }
            });
        }
        
        function onPlayerReady(event) {
            // Set initial volume
            player.setVolume(70);
        }

        // Couleurs de fond pour chaque type
        const lofiThemes = {
            chill: 'linear-gradient(135deg, #1a1a2e, #16213e, #0f3460, #533483)',
            study: 'linear-gradient(135deg, #2c3e50, #4ca1af, #a8edea, #3498db)',
            sleep: 'linear-gradient(135deg, #0f2027, #203a43, #2c5364, #12475f)',
            jazzy: 'linear-gradient(135deg, #4a2c40, #742c47, #9e3d55, #b91372)',
            space: 'linear-gradient(135deg, #0f0c29, #302b63, #24243e, #16213e)'
        };

        // Quotes for each theme
        const lofiQuotes = {
            chill: [
                { text: "Lofi beats - where time slows down, and inspiration speeds up.", author: "Chill Vibes Collective" },
                { text: "The best ideas come when your mind is lost in the chill.", author: "LoFi Enthusiast" }
            ],
            study: [
                { text: "Study not to know more, but to know better.", author: "LoFi Study Group" },
                { text: "Focus flows when the beats are slow.", author: "Academic Rhythms" }
            ],
            sleep: [
                { text: "The night wraps around these melodies like a blanket.", author: "Dreamwave Producer" },
                { text: "Sleep is the best meditation, and lofi is its soundtrack.", author: "Nocturnal Notes" }
            ],
            jazzy: [
                { text: "Jazz is not just music, it's a feeling. Lofi is its modern whisper.", author: "Blue Note Beats" },
                { text: "The saxophone dreams in lofi.", author: "Jazzy Chill Masters" }
            ],
            space: [
                { text: "We are made of star stuff, listening to star sounds.", author: "Cosmic Chill" },
                { text: "Space lofi - the sound of planets thinking.", author: "Orbital Frequencies" }
            ]
        };

        // Fonction pour mettre à jour l'horloge numérique
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('digitalClock').textContent = `${hours}:${minutes}:${seconds}`;
        }

        // Mettre à jour l'horloge toutes les secondes
        setInterval(updateClock, 1000);
        updateClock(); // Initialiser immédiatement

        // Show random quote based on theme with smooth fade transition
        function showRandomQuote(type) {
            const quotes = lofiQuotes[type];
            if (quotes && quotes.length > 0) {
                const randomIndex = Math.floor(Math.random() * quotes.length);
                const quote = quotes[randomIndex];
                
                // Sélectionner les éléments
                const quoteTextElement = document.querySelector('.quote-text');
                const quoteAuthorElement = document.querySelector('.quote-author');
                
                // Effet de fondu sortant
                quoteTextElement.classList.add('fade-out');
                quoteAuthorElement.classList.add('fade-out');
                
                // Attendre la fin de l'animation de sortie
                setTimeout(() => {
                    // Mettre à jour le contenu
                    quoteTextElement.textContent = `"${quote.text}"`;
                    quoteAuthorElement.textContent = `- ${quote.author}`;
                    
                    // Déclencher l'animation d'entrée
                    quoteTextElement.classList.remove('fade-out');
                    quoteAuthorElement.classList.remove('fade-out');
                    quoteTextElement.classList.add('fade-in');
                    quoteAuthorElement.classList.add('fade-in');
                }, 1000); // 1 seconde pour la transition de sortie
            }
        }

        // Fonction pour faire défiler les citations automatiquement
        function startQuoteRotation() {
            setInterval(() => {
                const activeButton = document.querySelector('.btn-lofi.active');
                if (activeButton) {
                    const activeType = activeButton.getAttribute('data-type');
                    showRandomQuote(activeType);
                }
            }, 10000); // Change toutes les 10 secondes
        }

        // Changement de vidéo YouTube et couleur de fond selon le type de bouton
        document.querySelectorAll('.btn-lofi').forEach(button => {
            button.addEventListener('click', function() {
                const type = this.getAttribute('data-type');
                const videoId = this.getAttribute('data-video-id');
                
                // Changer la vidéo YouTube
                if (player && player.loadVideoById) {
                    player.loadVideoById(videoId);
                } else {
                    const iframe = document.getElementById('lofiVideo');
                    iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=0&controls=1&loop=1&enablejsapi=1`;
                }
                
                // Changer la couleur de fond
                document.body.style.background = lofiThemes[type];
                document.body.style.backgroundSize = '400% 400%';
                
                // Marquer le bouton actif
                document.querySelectorAll('.btn-lofi').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                
                // Mettre à jour la citation avec le changement de thème
                showRandomQuote(type);
            });
        });

        // Fonction plein écran
        document.getElementById('fullscreenBtn').addEventListener('click', function() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.error(`Erreur lors du passage en plein écran: ${err.message}`);
                });
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        });

        // Création et animation des fleurs de sakura
        const sakuraColors = [
            'rgba(255, 183, 197, 0.7)', // Rose pâle
            'rgba(199, 153, 204, 0.7)', // Lavande
            'rgba(255, 221, 148, 0.7)', // Jaune pâle
            'rgba(173, 216, 230, 0.7)', // Bleu clair
            'rgba(152, 251, 152, 0.7)'  // Vert pâle
        ];

        function createSakura() {
            const sakura = document.createElement('div');
            sakura.className = 'sakura';
            
            // Taille aléatoire
            const size = Math.random() * 40 + 20;
            sakura.style.width = `${size}px`;
            sakura.style.height = `${size}px`;
            
            // Position initiale aléatoire
            sakura.style.left = `${Math.random() * 100}vw`;
            sakura.style.top = `-${size}px`;
            
            // Rotation aléatoire
            const rotation = Math.random() * 360;
            sakura.style.transform = `rotate(${rotation}deg)`;
            
            // Couleur aléatoire parmi les 5 couleurs définies
            const colorIndex = Math.floor(Math.random() * sakuraColors.length);
            sakura.style.backgroundColor = sakuraColors[colorIndex];
            sakura.style.borderRadius = '50% 0 50% 50%';
            
            document.body.appendChild(sakura);
            
            // Animation de chute
            const animationDuration = Math.random() * 10 + 10;
            const horizontalMovement = Math.random() * 20 - 10;
            
            sakura.animate([
                { transform: `translateX(0) translateY(0) rotate(${rotation}deg)` },
                { transform: `translateX(${horizontalMovement}vw) translateY(105vh) rotate(${rotation + 360}deg)` }
            ], {
                duration: animationDuration * 1000,
                easing: 'linear'
            }).onfinish = () => {
                sakura.remove();
                createSakura();
            };
        }

        // Collection d'images de chats avec des URLs fiables
        const catImages = [
            'https://i.pinimg.com/originals/0c/31/13/0c31132a548266c51e18a896533ac9d5.gif',
            'https://i.pinimg.com/originals/cf/94/20/cf94204d9c184ff030c707026ce3deb4.gif',
            'https://i.pinimg.com/originals/f9/42/5e/f9425ec6e73ca64317310db4a3f3e05c.gif',
            'https://i.pinimg.com/originals/e9/f0/4e/e9f04e760fbd8a7dbc19c8b860876f0f.gif',
            'https://i.pinimg.com/originals/6e/48/36/6e4836ce122b44072a8b11a186b07e42.gif',
            'https://media.tenor.com/j1PyzHn_-g8AAAAi/cat-loaf.gif',
            'https://media.tenor.com/Di8zK1kVdrAAAAAi/cute-cat.gif',
            'https://media.tenor.com/9-rLn6gzoQwAAAAi/kawaii-cat.gif',
            'https://media.tenor.com/Mng3HlhDFSUAAAAi/pusheen-laptop.gif',
            'https://media.tenor.com/V3kgz1qBslYAAAAi/cat-pixel.gif',
            'https://media.tenor.com/6rIyB7G3UQsAAAAi/cute-cat.gif'
        ];

        const catBehaviors = ['walk', 'sleep', 'sit', 'play'];

        function createCat() {
            const cat = document.createElement('div');
            cat.className = 'cat';
            
            // Image aléatoire de chat
            const imageIndex = Math.floor(Math.random() * catImages.length);
            cat.style.backgroundImage = `url(${catImages[imageIndex]})`;
            
            // Taille aléatoire
            const size = Math.random() * 40 + 60; // 60px to 100px
            cat.style.width = `${size}px`;
            cat.style.height = `${size}px`;
            
            // Position initiale aléatoire sur les bords
            const side = Math.floor(Math.random() * 4);
            switch(side) {
                case 0: // Haut
                    cat.style.top = '-80px';
                    cat.style.left = `${Math.random() * 100}vw`;
                    break;
                case 1: // Droite
                    cat.style.top = `${Math.random() * 100}vh`;
                    cat.style.left = '100vw';
                    break;
                case 2: // Bas
                    cat.style.top = '100vh';
                    cat.style.left = `${Math.random() * 100}vw`;
                    break;
                case 3: // Gauche
                    cat.style.top = `${Math.random() * 100}vh`;
                    cat.style.left = '-80px';
                    break;
            }
            
            document.body.appendChild(cat);
            
            // Choisir un comportement
            const behavior = catBehaviors[Math.floor(Math.random() * catBehaviors.length)];
            
            switch(behavior) {
                case 'walk':
                    walkingCatAnimation(cat);
                    break;
                case 'sleep':
                    sleepingCatAnimation(cat);
                    break;
                case 'sit':
                    sittingCatAnimation(cat);
                    break;
                case 'play':
                    playingCatAnimation(cat);
                    break;
            }
        }

        function walkingCatAnimation(cat) {
            // Point de destination aléatoire
            const destX = Math.random() * window.innerWidth;
            const destY = Math.random() * window.innerHeight;
            
            // Vitesse aléatoire
            const duration = Math.random() * 15000 + 10000;
            
            // Animation de déplacement
            cat.animate([
                { transform: 'translate(0, 0)' },
                { transform: `translate(calc(${destX}px - 100%), calc(${destY}px - 100%))` }
            ], {
                duration: duration,
                easing: 'ease-in-out'
            }).onfinish = () => {
                // Animation de sortie
                const exitX = Math.random() > 0.5 ? '120vw' : '-120px';
                const exitY = Math.random() > 0.5 ? '120vh' : '-120px';
                
                cat.animate([
                    { transform: `translate(calc(${destX}px - 100%), calc(${destY}px - 100%))` },
                    { transform: `translate(calc(${exitX} - 100%), calc(${exitY} - 100%))` }
                ], {
                    duration: 8000,
                    easing: 'ease-in-out'
                }).onfinish = () => {
                    cat.remove();
                    setTimeout(createCat, Math.random() * 2000);
                };
            };
        }

        function sleepingCatAnimation(cat) {
            // Position aléatoire à l'écran
            const posX = Math.random() * 80 + 10; // 10% to 90%
            const posY = Math.random() * 80 + 10; // 10% to 90%
            
            cat.style.left = `${posX}vw`;
            cat.style.top = `${posY}vh`;
            
            // Animation de respiration lente (gonflement léger)
            cat.animate([
                { transform: 'scale(1)' },
                { transform: 'scale(1.05)' },
                { transform: 'scale(1)' }
            ], {
                duration: 3000,
                iterations: 10,
                easing: 'ease-in-out'
            }).onfinish = () => {
                // Le chat se réveille et part
                cat.animate([
                    { transform: 'scale(1)', opacity: 1 },
                    { transform: 'scale(1.2)', opacity: 0.5 },
                    { transform: 'scale(0)', opacity: 0 }
                ], {
                    duration: 2000,
                    easing: 'ease-in-out'
                }).onfinish = () => {
                    cat.remove();
                    setTimeout(createCat, Math.random() * 2000);
                };
            };
        }

        function sittingCatAnimation(cat) {
            // Position aléatoire
            const posX = Math.random() * 80 + 10;
            const posY = Math.random() * 80 + 10;
            
            cat.style.left = `${posX}vw`;
            cat.style.top = `${posY}vh`;
            
            // Animation de la tête qui bouge légèrement
            cat.animate([
                { transform: 'rotate(0deg)' },
                { transform: 'rotate(5deg)' },
                { transform: 'rotate(-5deg)' },
                { transform: 'rotate(0deg)' }
            ], {
                duration: 5000,
                iterations: 3,
                easing: 'ease-in-out'
            }).onfinish = () => {
                // Le chat part
                const exitX = Math.random() > 0.5 ? '120vw' : '-120px';
                const exitY = Math.random() > 0.5 ? '120vh' : '-120px';
                
                cat.animate([
                    { transform: 'translate(0, 0)' },
                    { transform: `translate(calc(${exitX} - 100%), calc(${exitY} - 100%))` }
                ], {
                    duration: 5000,
                    easing: 'ease-in-out'
                }).onfinish = () => {
                    cat.remove();
                    setTimeout(createCat, Math.random() * 2000);
                };
            };
        }

        function playingCatAnimation(cat) {
            // Position aléatoire
            const posX = Math.random() * 80 + 10;
            const posY = Math.random() * 80 + 10;
            
            cat.style.left = `${posX}vw`;
            cat.style.top = `${posY}vh`;
            
            // Animation de jeu
            cat.animate([
                { transform: 'translate(0, 0) rotate(0deg)' },
                { transform: 'translate(20px, -30px) rotate(10deg)' },
                { transform: 'translate(-20px, 15px) rotate(-5deg)' },
                { transform: 'translate(15px, 20px) rotate(15deg)' },
                { transform: 'translate(-25px, -25px) rotate(-15deg)' },
                { transform: 'translate(0, 0) rotate(0deg)' }
            ], {
                duration: 8000,
                iterations: 1,
                easing: 'ease-in-out'
            }).onfinish = () => {
                // Le chat part en bondissant
                const exitX = Math.random() > 0.5 ? '120vw' : '-120px';
                const exitY = Math.random() > 0.5 ? '120vh' : '-120px';
                
                cat.animate([
                    { transform: 'translate(0, 0) scale(1)' },
                    { transform: 'translate(40px, -60px) scale(1.1)' },
                    { transform: 'translate(80px, 0) scale(1)' },
                    { transform: 'translate(120px, -40px) scale(1.1)' },
                    { transform: `translate(calc(${exitX} - 100%), calc(${exitY} - 100%)) scale(1)` }
                ], {
                    duration: 4000,
                    easing: 'ease-in-out'
                }).onfinish = () => {
                    cat.remove();
                    setTimeout(createCat, Math.random() * 2000);
                };
            };
        }

        // Fonction pour déplacer les boutons fleurs
        function moveButton(btn) {
            const maxX = window.innerWidth - btn.offsetWidth;
            const maxY = window.innerHeight - btn.offsetHeight;
            const newX = Math.random() * maxX;
            const newY = Math.random() * maxY;
            btn.style.left = `${newX}px`;
            btn.style.top = `${newY}px`;
        }

        // Création de notes de musique flottantes
        function createMusicNote(x, y, rotation) {
            const noteTypes = ['♪', '♫', '♬', '♩', '♭', '♮'];
            const note = document.createElement('div');
            note.className = 'music-note';
            note.textContent = noteTypes[Math.floor(Math.random() * noteTypes.length)];
            
            // Appliquer des styles CSS directement
            note.style.color = 'rgba(255, 255, 255, 0.7)';
            note.style.fontSize = `${Math.random() * 20 + 20}px`;
            note.style.left = `${x}vw`;
            note.style.top = `${y}vh`;
            note.style.transform = `rotate(${rotation}deg)`;
            
            document.body.appendChild(note);
            
            // Animation de flottement
            note.animate([
                { transform: `translateY(0) rotate(${rotation}deg)`, opacity: 0.7 },
                { transform: `translateY(-50px) rotate(${rotation + 20}deg)`, opacity: 0.9 },
                { transform: `translateY(-100px) rotate(${rotation + 40}deg)`, opacity: 0 }
            ], {
                duration: Math.random() * 5000 + 5000,
                easing: 'ease-out'
            }).onfinish = () => {
                note.remove();
                createMusicNote(
                    Math.random() * 100,
                    Math.random() * 100,
                    Math.random() * 360
                );
            };
        }

        // Création d'étoiles scintillantes
        function createStars(count, minX, maxX) {
            for (let i = 0; i < count; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                
                const x = minX + Math.random() * (maxX - minX);
                const y = Math.random() * 100;
                
                star.style.left = `${x}vw`;
                star.style.top = `${y}vh`;
                
                // Variation de taille
                const size = Math.random() * 3 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                // Variation de luminosité
                star.style.opacity = Math.random() * 0.8 + 0.2;
                
                document.body.appendChild(star);
                
                // Animation de scintillement
                star.animate([
                    { opacity: star.style.opacity, transform: 'scale(1)' },
                    { opacity: '1', transform: 'scale(1.5)' },
                    { opacity: star.style.opacity, transform: 'scale(1)' }
                ], {
                    duration: Math.random() * 3000 + 2000,
                    iterations: Infinity,
                    direction: 'alternate',
                    easing: 'ease-in-out'
                });
            }
        }

        // Création de nuages dérivants
        function createCloud(startPosition) {
            const cloud = document.createElement('div');
            cloud.className = 'cloud';
            
            cloud.style.left = '-150px';
            cloud.style.top = `${Math.random() * 40 + 5}vh`;
            
            // Variation de taille
            const scale = Math.random() * 0.5 + 0.5;
            cloud.style.transform = `scale(${scale})`;
            
            // Variation d'opacité
            cloud.style.opacity = Math.random() * 0.2 + 0.1;
            
            document.body.appendChild(cloud);
            
            // Animation de déplacement
            cloud.animate([
                { transform: `translateX(0) scale(${scale})` },
                { transform: `translateX(calc(100vw + 150px)) scale(${scale})` }
            ], {
                duration: Math.random() * 60000 + 40000,
                easing: 'linear'
            }).onfinish = () => {
                cloud.remove();
                createCloud(startPosition);
            };
        }

        // Création d'éléments lofi avec meilleure dispersion
        function createLofiElements() {
            // Création de notes de musique bien espacées
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    createMusicNote(
                        Math.random() * 100, // position X aléatoire en %
                        Math.random() * 100, // position Y aléatoire en %
                        Math.random() * 360  // rotation aléatoire
                    );
                }, i * 1000);
            }
            
            // Création d'étoiles dans différentes zones
            createStars(20, 0, 33);   // Premier tiers de l'écran
            createStars(20, 33, 66);  // Deuxième tiers de l'écran
            createStars(20, 66, 100); // Troisième tiers de l'écran
            
            // Création de nuages bien espacés
            for (let i = 0; i < 4; i++) {
                setTimeout(() => {
                    createCloud(i * 25); // Position initiale en % de la largeur
                }, i * 2000);
            }
        }

        // Initialize everything on load
        window.addEventListener('load', function() {
            // Create initial cats
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    createCat();
                }, i * 1000 + 2000);
            }
            
            // Initialize with Chill theme quote
            showRandomQuote('chill');
            
            // Start quote rotation
            startQuoteRotation();
            
            // Create sakura elements
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    createSakura();
                }, i * 300);
            }
            
            // Create lofi elements
            createLofiElements();
        });
    </script>
</body>
</html>
