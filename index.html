<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lofi Wallpaper Am√©lior√©</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    :root {
      --primary: #2e2b4f;
      --secondary: #5f527a;
      --accent: #a894c2;
      --text: #f3f0ff;
      --soft: #ddd8ee;
      --cat-primary: #8a7bb3;
      --cat-secondary: #60507c;
      --cat-accent: #ffd6ff;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(-45deg, var(--primary), var(--secondary), #3a3356, #4a3b72);
      background-size: 400% 400%;
      animation: gradient 15s ease infinite;
      height: 100vh;
      overflow: hidden;
      color: var(--text);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      transition: all 0.5s ease;
    }
    
    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    .header {
      text-align: center;
      margin-bottom: 1.5rem;
      z-index: 10;
    }
    
    .title {
      font-size: 2.5rem;
      font-weight: 700;
      text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
    }
    
    .player-container {
      position: relative;
      width: 30%;
      min-width: 320px;
      max-width: 600px;
      z-index: 10;
      margin-bottom: 1.5rem;
    }
    
    .player {
      width: 100%;
      height: 0;
      padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
      position: relative;
      overflow: hidden;
      border-radius: 20px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
    }
    
    .player iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
    
    .controls {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      z-index: 10;
      margin-bottom: 30px;
    }
    
    .btn {
      padding: 0.7rem 1.2rem;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 50px;
      color: var(--text);
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }
    
    .btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
    }
    
    .btn.active {
      background: var(--accent);
      color: var(--primary);
    }
    
    .fullscreen-btn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 50px;
      height: 50px;
      background: rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      color: var(--text);
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      z-index: 100;
    }
    
    .fullscreen-btn:hover {
      background: rgba(0, 0, 0, 0.5);
      transform: scale(1.1);
    }
    
    .fullscreen-btn i {
      font-size: 1.2rem;
    }
    
    /* Flower Color Palette */
    .color-palette {
      position: fixed;
      bottom: 30px;
      left: 30px;
      z-index: 100;
      width: 150px;
      height: 150px;
    }
    
    .color-flower {
      position: relative;
      width: 100%;
      height: 100%;
    }
    
    .color-option {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      border: 2px solid rgba(255, 255, 255, 0.5);
      position: absolute;
      overflow: hidden;
    }
    
    .color-option:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
    }
    
    .color-option.active {
      border: 3px solid white;
      transform: scale(1.1);
    }
    
    .color-option::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 100%);
    }
    
    /* Flower petal positions */
    .color-center {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 5;
      width: 45px;
      height: 45px;
    }
    
    .color-petal-1 {
      top: 10%;
      left: 50%;
      transform: translate(-50%, 0);
    }
    
    .color-petal-2 {
      top: 25%;
      left: 85%;
      transform: translate(-50%, 0);
    }
    
    .color-petal-3 {
      top: 75%;
      left: 85%;
      transform: translate(-50%, 0);
    }
    
    .color-petal-4 {
      top: 90%;
      left: 50%;
      transform: translate(-50%, 0);
    }
    
    .color-petal-5 {
      top: 75%;
      left: 15%;
      transform: translate(-50%, 0);
    }
    
    .color-petal-6 {
      top: 25%;
      left: 15%;
      transform: translate(-50%, 0);
    }
    
    #theme-night {
      background: linear-gradient(45deg, #2e2b4f, #5f527a);
    }
    
    #theme-day {
      background: linear-gradient(45deg, #9ac4f8, #63a7e8);
    }
    
    #theme-pink {
      background: linear-gradient(45deg, #ff9aa2, #e06377);
    }
    
    #theme-forest {
      background: linear-gradient(45deg, #3d5444, #7c9960);
    }
    
    #theme-ocean {
      background: linear-gradient(45deg, #25283d, #4a6d7c);
    }
    
    #theme-sunset {
      background: linear-gradient(45deg, #ff7e5f, #feb47b);
    }
    
    #theme-galaxy {
      background: linear-gradient(45deg, #311b92, #7c4dff);
    }
    
    .quote-container {
      position: absolute;
      bottom: 30px;
      text-align: center;
      max-width: 80%;
      z-index: 10;
    }
    
    .quote {
      font-size: 1.2rem;
      font-style: italic;
      font-weight: 300;
      background: rgba(0, 0, 0, 0.3);
      padding: 1rem 1.5rem;
      border-radius: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(5px);
      transition: opacity 0.5s ease;
    }
    
    /* Starry Background */
    .stars-container {
      position: absolute;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: 1;
    }
    
    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      opacity: 0;
      animation: twinkle 4s infinite ease-in-out;
    }
    
    @keyframes twinkle {
      0%, 100% { opacity: 0; }
      50% { opacity: 0.8; }
    }
    
    /* Space Cats */
    .space-cat {
      position: absolute;
      width: 60px;
      height: 60px;
      z-index: 5;
      pointer-events: none;
      filter: drop-shadow(0 0 10px rgba(var(--glow-color, 255, 150, 255), 0.7));
      transition: transform 0.3s ease-out;
    }
    
    .cat-trail {
      position: absolute;
      width: 100%;
      height: 30px;
      top: 50%;
      left: -20px;
      transform: translateY(-50%);
      z-index: -1;
      opacity: 0.4;
    }
    
    /* Theme-specific variables */
    .night-theme {
      --primary: #2e2b4f;
      --secondary: #5f527a;
      --accent: #a894c2;
      --text: #f3f0ff;
      --soft: #ddd8ee;
      --cat-primary: #8a7bb3;
      --cat-secondary: #60507c;
      --cat-accent: #ffd6ff;
    }
    
    .day-theme {
      --primary: #7fa5cf;
      --secondary: #aad2ff;
      --accent: #f2d7ee;
      --text: #333344;
      --soft: #ffffff;
      --cat-primary: #64b5f6;
      --cat-secondary: #3d89dc;
      --cat-accent: #d0edff;
    }
    
    .pink-theme {
      --primary: #ff9aa2;
      --secondary: #e06377;
      --accent: #ffb7c5;
      --text: #4d243d;
      --soft: #fbe0e4;
      --cat-primary: #f48fb1;
      --cat-secondary: #e06377;
      --cat-accent: #fce4ec;
    }
    
    .forest-theme {
      --primary: #3d5444;
      --secondary: #7c9960;
      --accent: #a5be83;
      --text: #f4f7eb;
      --soft: #bfd8bd;
      --cat-primary: #81c784;
      --cat-secondary: #558b2f;
      --cat-accent: #c8e6c9;
    }
    
    .ocean-theme {
      --primary: #25283d;
      --secondary: #4a6d7c;
      --accent: #8dbdd1;
      --text: #f2f9fc;
      --soft: #c9e4f6;
      --cat-primary: #4fc3f7;
      --cat-secondary: #0288d1;
      --cat-accent: #bbdefb;
    }
    
    .sunset-theme {
      --primary: #ff7e5f;
      --secondary: #feb47b;
      --accent: #ffda8e;
      --text: #4d2c1e;
      --soft: #fcefe8;
      --cat-primary: #ff8a65;
      --cat-secondary: #e64a19;
      --cat-accent: #ffd180;
    }
    
    .galaxy-theme {
      --primary: #311b92;
      --secondary: #7c4dff;
      --accent: #b39ddb;
      --text: #ffffff;
      --soft: #e0dcf0;
      --cat-primary: #9575cd;
      --cat-secondary: #5e35b1;
      --cat-accent: #d1c4e9;
    }
    
    .volume-control {
      position: absolute;
      right: -15px;
      top: 50%;
      transform: translateY(-50%);
      width: 30px;
      height: 100px;
      background: rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(5px);
      border-radius: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 15;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }
    
    .volume-control input {
      transform: rotate(-90deg);
      width: 80px;
      margin: 0;
      cursor: pointer;
    }
    
    .volume-icon {
      margin-top: 5px;
      color: white;
      font-size: 14px;
    }
    
    .mute-btn {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 16px;
      margin-top: 5px;
    }
  </style>
</head>
<body class="night-theme">
  <div class="stars-container" id="stars-container"></div>
  
  <!-- Header -->
  <header class="header">
    <h1 class="title">üåå Lofi Wallpaper üåå</h1>
  </header>
  
  <!-- Player -->
  <div class="player-container">
    <div class="player" id="player">
      <iframe id="youtube-player" 
              src="https://www.youtube.com/embed/jfKfPfyJRdk?autoplay=1&mute=0&loop=1&playlist=jfKfPfyJRdk"
              allow="autoplay; encrypted-media" 
              allowfullscreen>
      </iframe>
    </div>
    
    <div class="volume-control">
      <input type="range" id="volume-slider" min="0" max="100" value="70">
      <button class="mute-btn" id="mute-btn"><i class="fas fa-volume-up"></i></button>
    </div>
  </div>
  
  <!-- Controls -->
  <div class="controls">
    <button class="btn active" data-video="jfKfPfyJRdk" id="lofi-btn">
      <i class="fas fa-headphones"></i> Lofi Girl
    </button>
    <button class="btn" data-video="5qap5aO4i9A" id="chillhop-btn">
      <i class="fas fa-music"></i> Chillhop
    </button>
    <button class="btn" data-video="n61ULEU7CO0" id="study-btn">
      <i class="fas fa-book"></i> Study Vibes
    </button>
    <button class="btn" data-video="4xDzrJKXOOY" id="chillpop-btn">
      <i class="fas fa-coffee"></i> Aesthetic Mix
    </button>
    <button class="btn" data-video="rUxyKA_-grg" id="sleep-btn">
      <i class="fas fa-moon"></i> Rain Lofi
    </button>
  </div>
  
  <!-- Color Palette in Flower Shape -->
  <div class="color-palette">
    <div class="color-flower">
      <div class="color-option color-center active" id="theme-night"></div>
      <div class="color-option color-petal-1" id="theme-day"></div>
      <div class="color-option color-petal-2" id="theme-pink"></div>
      <div class="color-option color-petal-3" id="theme-forest"></div>
      <div class="color-option color-petal-4" id="theme-ocean"></div>
      <div class="color-option color-petal-5" id="theme-sunset"></div>
      <div class="color-option color-petal-6" id="theme-galaxy"></div>
    </div>
  </div>
  
  <!-- Fullscreen Button -->
  <button class="fullscreen-btn" id="fullscreen-btn">
    <i class="fas fa-expand"></i>
  </button>
  
  <!-- Quote -->
  <div class="quote-container">
    <div class="quote" id="quote">"Breathe. You're here now."</div>
  </div>
  
  <!-- Space Cats Container -->
  <div id="space-cats-container"></div>
  
  <script>
    // Variables globales
    const player = document.getElementById('youtube-player');
    const buttons = document.querySelectorAll('.controls .btn');
    const fullscreenBtn = document.getElementById('fullscreen-btn');
    const colorOptions = document.querySelectorAll('.color-option');
    const quoteElement = document.getElementById('quote');
    const starsContainer = document.getElementById('stars-container');
    const spaceCatsContainer = document.getElementById('space-cats-container');
    const volumeSlider = document.getElementById('volume-slider');
    const muteBtn = document.getElementById('mute-btn');
    
    // YouTube API
    let ytPlayer;
    
    // Load YouTube API
    function loadYouTubeAPI() {
      const tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      const firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    }
    
    // YouTube API will call this function when ready
    window.onYouTubeIframeAPIReady = function() {
      const videoId = document.querySelector('.controls .active').getAttribute('data-video');
      
      ytPlayer = new YT.Player('youtube-player', {
        videoId: videoId,
        playerVars: {
          'autoplay': 1,
          'controls': 0,
          'loop': 1,
          'playlist': videoId,
          'modestbranding': 1,
          'showinfo': 0,
          'rel': 0
        },
        events: {
          'onReady': onPlayerReady
        }
      });
    };
    
    function onPlayerReady(event) {
      // Set initial volume
      event.target.setVolume(70);
      
      // Setup volume slider
      volumeSlider.addEventListener('input', function() {
        ytPlayer.setVolume(this.value);
        
        // Update mute button icon
        if (parseInt(this.value) === 0) {
          muteBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
        } else if (parseInt(this.value) < 50) {
          muteBtn.innerHTML = '<i class="fas fa-volume-down"></i>';
        } else {
          muteBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
        }
      });
      
      // Setup mute button
      let isMuted = false;
      muteBtn.addEventListener('click', function() {
        if (isMuted) {
          ytPlayer.unMute();
          ytPlayer.setVolume(parseInt(volumeSlider.value));
          muteBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
        } else {
          ytPlayer.mute();
          muteBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
        }
        isMuted = !isMuted;
      });
    }
    
    // S√©lection des vid√©os
    buttons.forEach(button => {
      button.addEventListener('click', () => {
        const videoId = button.getAttribute('data-video');
        
        if (ytPlayer) {
          ytPlayer.loadVideoById({
            'videoId': videoId,
            'startSeconds': 0,
            'suggestedQuality': 'large'
          });
        } else {
          player.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=0&loop=1&playlist=${videoId}&controls=0`;
        }
        
        // Update active class
        buttons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
      });
    });
    
    // Plein √©cran
    fullscreenBtn.addEventListener('click', () => {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen().catch(err => {
          console.log(`Erreur de passage en plein √©cran: ${err.message}`);
        });
        fullscreenBtn.innerHTML = '<i class="fas fa-compress"></i>';
      } else {
        if (document.exitFullscreen) {
          document.exitFullscreen();
          fullscreenBtn.innerHTML = '<i class="fas fa-expand"></i>';
        }
      }
    });
    
    // Changement de th√®me
    colorOptions.forEach(option => {
      option.addEventListener('click', () => {
        // Mettre √† jour la classe active
        colorOptions.forEach(opt => opt.classList.remove('active'));
        option.classList.add('active');
        
        // Changer le th√®me
        const themeId = option.id;
        
        if (themeId === 'theme-night') {
          document.body.className = 'night-theme';
        } else if (themeId === 'theme-day') {
          document.body.className = 'day-theme';
        } else if (themeId === 'theme-pink') {
          document.body.className = 'pink-theme';
        } else if (themeId === 'theme-forest') {
          document.body.className = 'forest-theme';
        } else if (themeId === 'theme-ocean') {
          document.body.className = 'ocean-theme';
        } else if (themeId === 'theme-sunset') {
          document.body.className = 'sunset-theme';
        } else if (themeId === 'theme-galaxy') {
          document.body.className = 'galaxy-theme';
        }
        
        // Recr√©er les chats spatiaux avec la nouvelle couleur
        generateSpaceCats();
      });
    });
    
    // Citations
    const quotes = [
      "Breathe. You're here now.",
      "Small steps, big journey.",
      "This moment is all yours.",
      "Find peace in the pause.",
      "Let your mind wander and wonder.",
      "Slow down. Notice the details.",
      "Your presence is enough.",
      "The journey is the destination.",
      "Embrace the gentle quiet.",
      "This too shall pass.",
      "Inside silence there is magic.",
      "Inspiration exists, but it has to find you working.",
      "The beauty of life is in small things.",
      "Stay curious, stay chill.",
      "Creativity takes courage.",
      "Be patient with yourself."
    ];
    
    function changeQuote() {
      const randomIndex = Math.floor(Math.random() * quotes.length);
      
      // Effet de fondu
      quoteElement.style.opacity = 0;
      
      setTimeout(() => {
        quoteElement.textContent = `"${quotes[randomIndex]}"`;
        quoteElement.style.opacity = 1;
      }, 500);
    }
    
    // Changer la citation toutes les 10 secondes
    setInterval(changeQuote, 10000);
    
    // G√©n√©rer les √©toiles
    function generateStars() {
      starsContainer.innerHTML = '';
      const starCount = Math.min(300, Math.floor(window.innerWidth * window.innerHeight / 1000));
      
      for (let i = 0; i < starCount; i++) {
        const star = document.createElement('div');
        star.classList.add('star');
        
        // Position al√©atoire
        const x = Math.random() * 100;
        const y = Math.random() * 100;
        
        // Taille al√©atoire
        const size = Math.random() * 2 + 1;
        
        // Animation al√©atoire
        const delay = Math.random() * 4;
        
        star.style.left = `${x}%`;
        star.style.top = `${y}%`;
        star.style.width = `${size}px`;
        star.style.height = `${size}px`;
        star.style.animationDelay = `${delay}s`;
        
        starsContainer.appendChild(star);
      }
    }
    
    // Fonction pour cr√©er un SVG de chat spatial
    function createSpaceCatSVG(color1, color2, color3) {
      // Couleurs par d√©faut si non fournies
      color1 = color1 || '#6A418F';
      color2 = color2 || '#483D8B';
      color3 = color3 || '#FFFFFF';
      
      return `
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <!-- Corps principal -->
          <circle cx="50" cy="50" r="40" fill="${color1}" />
          
          <!-- Traits d√©coratifs -->
          <circle cx="50" cy="50" r="35" fill="${color2}" />
          
          <!-- Yeux -->
          <circle cx="35" cy="40" r="6" fill="${color3}" />
          <circle cx="65" cy="40" r="6" fill="${color3}" />
          <circle cx="35" cy="40" r="3" fill="#000" />
          <circle cx="65" cy="40" r="3" fill="#000" />
          
          <!-- Reflet dans les yeux -->
          <circle cx="33" cy="38" r="2" fill="white" />
          <circle cx="63" cy="38" r="2" fill="white" />
          
          <!-- Bouche -->
          <path d="M40,60 Q50,70 60,60" stroke="${color3}" stroke-width="2" fill="none" />
          
          <!-- Oreilles -->
          <path d="M20,25 Q30,10 40,25" fill="${color1}" />
          <path d="M80,25 Q70,10 60,25" fill="${color1}" />
          
          <!-- Moustaches -->
          <path d="M30,55 L15,50" stroke="${color3}" stroke-width="1" />
          <path d="M30,58 L12,58" stroke="${color3}" stroke-width="1" />
          <path d="M30,61 L15,65" stroke="${color3}" stroke-width="1" />
          
          <path d="M70,55 L85,50" stroke="${color3}" stroke-width="1" />
          <path d="M70,58 L88,58" stroke="${color3}" stroke-width="1" />
          <path d="M70,61 L85,65" stroke="${color3}" stroke-width="1" />
          
          <!-- √âtoiles autour -->
          <circle cx="15" cy="15" r="2" fill="white" />
          <circle cx="85" cy="25" r="1.5" fill="white" />
          <circle cx="75" cy="85" r="2" fill="white" />
          <circle cx="25" cy="75" r="1.5" fill="white" />
          
          <!-- Ligne spatiale -->
          <path d="M5,50 Q20,55 30,45 T60,50 T90,45" stroke="${color3}" stroke-width="1" fill="none" opacity="0.6" />
        </svg>
      `;
    }
    
    // Cr√©er une tra√Æn√©e pour le chat spatial
    function createCatTrail(color) {
      return `
        <svg class="cat-trail" viewBox="0 0 100 30" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="trailGradient" x1="0%" y1="50%" x2="100%" y2="50%">
              <stop offset="0%" stop-color="${color}" stop-opacity="0" />
              <stop offset="50%" stop-color="${color}" stop-opacity="0.3" />
              <stop offset="100%" stop-color="${color}" stop-opacity="0.7" />
            </linearGradient>
          </defs>
          <path d="M0,15 Q30,5 50,15 T100,15" stroke="url(#trailGradient)" stroke-width="6" fill="none" />
        </svg>
      `;
    }
    
    // G√©n√©rer les chats spatiaux
    function generateSpaceCats() {
      spaceCatsContainer.innerHTML = '';
      
      // Obtenir les couleurs du th√®me actuel
      const computedStyle = getComputedStyle(document.body);
      const catPrimary = computedStyle.getPropertyValue('--cat-primary');
      const catSecondary = computedStyle.getPropertyValue('--cat-secondary');
      const catAccent = computedStyle.getPropertyValue('--cat-accent');
      
      // Cr√©er 7 chats spatiaux
      for (let i = 0; i < 7; i++) {
        const spaceCat = document.createElement('div');
        spaceCat.classList.add('space-cat');
        spaceCat.setAttribute('data-id', i);
        
        // Position al√©atoire (√©viter le centre o√π se trouve le lecteur)
        let x, y;
        const centerX = window.innerWidth / 2;
        const centerY = window.innerHeight / 2;
        const playerWidth = Math.min(window.innerWidth * 0.3, 600);
        const playerHeight = playerWidth * 0.5625; // ratio 16:9
        
        // √âviter le centre
        do {
          x = Math.random() * (window.innerWidth - 100);
          y = Math.random() * (window.innerHeight - 100);
        } while (
          x > centerX - playerWidth/1.5 && 
          x < centerX + playerWidth/1.5 && 
          y > centerY - playerHeight/1.5 && 
          y < centerY + playerHeight/1.5
        );
        
        // Taille al√©atoire
        const size = Math.random() * 30 + 40;
        
        // Vitesse al√©atoire
        const speed = Math.random() * 3 + 1;
        
        // Direction al√©atoire
        const directionX = Math.random() > 0.5 ? 1 : -1;
        const directionY = Math.random() > 0.5 ? 1 : -1;
        
        // Animation et style
        const glowColor = i % 2 === 0 ? '150, 150, 255' : '255, 150, 255';
        
        spaceCat.style.left = `${x}px`;
        spaceCat.style.top = `${y}px`;
        spaceCat.style.width = `${size}px`;
        spaceCat.style.height = `${size}px`;
        spaceCat.style.setProperty('--glow-color', glowColor);
        
        // Stocker les donn√©es de mouvement comme attributs
        spaceCat.setAttribute('data-dir-x', directionX);
        spaceCat.setAttribute('data-dir-y', directionY);
        spaceCat.setAttribute('data-speed', speed);
        
        // Ins√©rer le SVG
        spaceCat.innerHTML = createSpaceCatSVG(catPrimary, catSecondary, catAccent);
        spaceCat.innerHTML += createCatTrail(catPrimary);
        
        // Ajouter le chat au conteneur
        spaceCatsContainer.appendChild(spaceCat);
      }
    }
    
    // Animer les chats spatiaux
    function animateSpaceCats() {
      const cats = document.querySelectorAll('.space-cat');
      
      cats.forEach(cat => {
        // R√©cup√©rer la position actuelle
        let x = parseFloat(cat.style.left);
        let y = parseFloat(cat.style.top);
        
        // R√©cup√©rer la direction et la vitesse
        let dirX = parseFloat(cat.getAttribute('data-dir-x'));
        let dirY = parseFloat(cat.getAttribute('data-dir-y'));
        let speed = parseFloat(cat.getAttribute('data-speed'));
        
        // Calcul du nouveau mouvement
        x += dirX * speed;
        y += dirY * speed;
        
        // V√©rifier les collisions avec les bords
        const width = cat.offsetWidth;
        const height = cat.offsetHeight;
        
        if (x <= 0 || x >= window.innerWidth - width) {
          dirX *= -1;
          cat.setAttribute('data-dir-x', dirX);
        }
        
        if (y <= 0 || y >= window.innerHeight - height) {
          dirY *= -1;
          cat.setAttribute('data-dir-y', dirY);
        }
        
        // Appliquer la nouvelle position
        cat.style.left = `${x}px`;
        cat.style.top = `${y}px`;
        
        // Rotation bas√©e sur la direction
        let angle = Math.atan2(dirY, dirX) * (180 / Math.PI);
        cat.style.transform = `rotate(${angle}deg)`;
      });
      
      requestAnimationFrame(animateSpaceCats);
    }
    
    // Effet de clic sur les chats
    document.addEventListener('click', function(e) {
      const cats = document.querySelectorAll('.space-cat');
      
      cats.forEach(cat => {
        // Changer temporairement la direction vers le point de clic
        const catX = parseFloat(cat.style.left) + cat.offsetWidth/2;
        const catY = parseFloat(cat.style.top) + cat.offsetHeight/2;
        
        const clickX = e.clientX;
        const clickY = e.clientY;
        
        // Calculer la direction vers le clic
        const dx = clickX - catX;
        const dy = clickY - catY;
        const distance = Math.sqrt(dx*dx + dy*dy);
        
        // Si le clic est assez proche du chat
        if (distance < 200) {
          // Normaliser le vecteur direction
          const dirX = dx / distance;
          const dirY = dy / distance;
          
          // Mettre √† jour la direction avec un effet temporaire
          cat.setAttribute('data-dir-x', dirX);
          cat.setAttribute('data-dir-y', dirY);
          
          // Augmenter la vitesse temporairement
          cat.setAttribute('data-speed', 5);
          
          // Revenir √† une vitesse normale apr√®s un d√©lai
          setTimeout(() => {
            cat.setAttribute('data-speed', 1 + Math.random() * 3);
          }, 1000);
        }
      });
    });
    
    // Initialisation
    window.addEventListener('load', () => {
      loadYouTubeAPI();
      generateStars();
      generateSpaceCats();
      animateSpaceCats();
      changeQuote();
    });
    
    // Adapter la taille de la fen√™tre
    window.addEventListener('resize', () => {
      generateStars();
      generateSpaceCats();
    });
  </script>
</body>
</html>
