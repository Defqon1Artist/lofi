<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lofi Wallpaper Paradise</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460, #533483);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            height: 100vh;
            overflow: hidden;
            margin: 0;
            padding: 0;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .video-container {
            position: relative;
            width: 70%;
            max-width: 1000px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 3px solid rgba(255, 255, 255, 0.1);
        }

        .btn-lofi {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            padding: 10px 20px;
            color: white;
            transition: all 0.3s ease;
            margin: 0 10px;
            font-weight: 500;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .btn-lofi:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(0, 0, 0, 0.2);
        }

        .btn-lofi.active {
            background: rgba(255, 255, 255, 0.3);
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .fullscreen-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .fullscreen-btn:hover {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 0.3);
        }

        .sakura {
            position: absolute;
            background-size: contain;
            background-repeat: no-repeat;
            pointer-events: none;
            opacity: 0.8;
            z-index: -1;
            filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.3));
        }

        .cat {
            position: absolute;
            width: 80px;
            height: 80px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            pointer-events: none;
            z-index: 50;
            transition: transform 0.3s ease;
        }

        .cat:hover {
            transform: scale(1.2);
        }

        /* Styles pour la version PDF */
        @media print {
            body {
                background: #1a1a2e !important;
                height: auto;
                overflow: visible;
            }
            
            .video-container {
                margin: 20px auto;
                page-break-inside: avoid;
            }
            
            .buttons-container {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen">
    <div class="video-container mb-8">
        <video id="lofiVideo" autoplay loop muted playsinline webkit-playsinline class="w-full h-full object-cover">
            <source src="https://cdn.jsdelivr.net/gh/filipepereiradesouza/lofi@main/lofi-girl.mp4" type="video/mp4">
            Votre navigateur ne supporte pas la vidéo HTML5.
        </video>
    </div>

    <div class="buttons-container flex flex-wrap justify-center mt-6 mb-10">
        <button class="btn-lofi active" data-type="chill">Chill Lofi</button>
        <button class="btn-lofi" data-type="study">Study Beats</button>
        <button class="btn-lofi" data-type="sleep">Sleep Lofi</button>
        <button class="btn-lofi" data-type="jazzy">Jazzy Lofi</button>
        <button class="btn-lofi" data-type="rain">Rainy Mood</button>
    </div>

    <div class="fullscreen-btn" id="fullscreenBtn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white">
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
        </svg>
    </div>

    <script>
        // Vidéos Lofi pour chaque type
        const lofiVideos = {
            chill: "https://cdn.jsdelivr.net/gh/filipepereiradesouza/lofi@main/lofi-girl.mp4",
            study: "https://cdn.jsdelivr.net/gh/filipepereiradesouza/lofi@main/lofi-girl-study.mp4",
            sleep: "https://cdn.jsdelivr.net/gh/filipepereiradesouza/lofi@main/lofi-sleep.mp4",
            jazzy: "https://cdn.jsdelivr.net/gh/filipepereiradesouza/lofi@main/lofi-jazzy.mp4",
            rain: "https://cdn.jsdelivr.net/gh/filipepereiradesouza/lofi@main/lofi-rain.mp4"
        };

        // Changement de vidéo selon le type
        document.querySelectorAll('.btn-lofi').forEach(button => {
            button.addEventListener('click', function() {
                const type = this.getAttribute('data-type');
                const video = document.getElementById('lofiVideo');
                video.src = lofiVideos[type];
                video.load();
                video.play();
                
                // Marquer le bouton actif
                document.querySelectorAll('.btn-lofi').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Fonction plein écran
        document.getElementById('fullscreenBtn').addEventListener('click', function() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.error(`Erreur lors du passage en plein écran: ${err.message}`);
                });
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        });

        // Création et animation des fleurs de sakura
        const sakuraColors = [
            'rgba(255, 183, 197, 0.7)', // Rose pâle
            'rgba(199, 153, 204, 0.7)', // Lavande
            'rgba(255, 221, 148, 0.7)', // Jaune pâle
            'rgba(173, 216, 230, 0.7)', // Bleu clair
            'rgba(152, 251, 152, 0.7)'  // Vert pâle
        ];

        function createSakura() {
            const sakura = document.createElement('div');
            sakura.className = 'sakura';
            
            // Taille aléatoire
            const size = Math.random() * 40 + 20;
            sakura.style.width = `${size}px`;
            sakura.style.height = `${size}px`;
            
            // Position initiale aléatoire
            sakura.style.left = `${Math.random() * 100}vw`;
            sakura.style.top = `-${size}px`;
            
            // Rotation aléatoire
            const rotation = Math.random() * 360;
            sakura.style.transform = `rotate(${rotation}deg)`;
            
            // Couleur aléatoire parmi les 5 couleurs définies
            const colorIndex = Math.floor(Math.random() * sakuraColors.length);
            sakura.style.backgroundColor = sakuraColors[colorIndex];
            sakura.style.borderRadius = '50% 0 50% 50%';
            
            document.body.appendChild(sakura);
            
            // Animation de chute
            const animationDuration = Math.random() * 10 + 10;
            const horizontalMovement = Math.random() * 20 - 10;
            
            sakura.animate([
                { transform: `translateX(0) translateY(0) rotate(${rotation}deg)` },
                { transform: `translateX(${horizontalMovement}vw) translateY(105vh) rotate(${rotation + 360}deg)` }
            ], {
                duration: animationDuration * 1000,
                easing: 'linear'
            }).onfinish = () => {
                sakura.remove();
                createSakura();
            };
        }

        // Création de plusieurs fleurs de sakura au chargement
        for (let i = 0; i < 20; i++) {
            setTimeout(() => {
                createSakura();
            }, i * 300);
        }

        // Création et animation des chats Lofi
        const catImages = [
            'https://cdn.jsdelivr.net/gh/catppuccin/catppuccin/assets/logos/exports/1544x1544_circle.png',
            'https://cdn.jsdelivr.net/gh/catppuccin/catppuccin@main/assets/misc/transparent.png',
            'https://cdn.jsdelivr.net/gh/catppuccin/catppuccin/assets/logos/exports/1544x1544_circle.png'
        ];

        function createCat() {
            const cat = document.createElement('div');
            cat.className = 'cat';
            
            // Image aléatoire de chat
            const imageIndex = Math.floor(Math.random() * catImages.length);
            cat.style.backgroundImage = `url(${catImages[imageIndex]})`;
            
            // Position initiale aléatoire sur les bords
            const side = Math.floor(Math.random() * 4);
            switch(side) {
                case 0: // Haut
                    cat.style.top = '-80px';
                    cat.style.left = `${Math.random() * 100}vw`;
                    break;
                case 1: // Droite
                    cat.style.top = `${Math.random() * 100}vh`;
                    cat.style.left = '100vw';
                    break;
                case 2: // Bas
                    cat.style.top = '100vh';
                    cat.style.left = `${Math.random() * 100}vw`;
                    break;
                case 3: // Gauche
                    cat.style.top = `${Math.random() * 100}vh`;
                    cat.style.left = '-80px';
                    break;
            }
            
            document.body.appendChild(cat);
            
            // Point de destination aléatoire
            const destX = Math.random() * window.innerWidth;
            const destY = Math.random() * window.innerHeight;
            
            // Vitesse aléatoire
            const duration = Math.random() * 15000 + 10000;
            
            // Animation de déplacement
            cat.animate([
                { transform: 'translate(0, 0)' },
                { transform: `translate(calc(${destX}px - 100%), calc(${destY}px - 100%))` }
            ], {
                duration: duration,
                easing: 'ease-in-out'
            }).onfinish = () => {
                // Animation de sortie
                const exitX = Math.random() > 0.5 ? '120vw' : '-120px';
                const exitY = Math.random() > 0.5 ? '120vh' : '-120px';
                
                cat.animate([
                    { transform: `translate(calc(${destX}px - 100%), calc(${destY}px - 100%))` },
                    { transform: `translate(calc(${exitX} - 100%), calc(${exitY} - 100%))` }
                ], {
                    duration: 8000,
                    easing: 'ease-in-out'
                }).onfinish = () => {
                    cat.remove();
                    setTimeout(createCat, Math.random() * 2000);
                };
            };
        }

        // Création de quelques chats au chargement
        for (let i = 0; i < 5; i++) {
            setTimeout(() => {
                createCat();
            }, i * 1000);
        }

        // Préchargement des vidéos
        Object.values(lofiVideos).forEach(videoUrl => {
            const link = document.createElement('link');
            link.rel = 'preload';
            link.href = videoUrl;
            link.as = 'video';
            document.head.appendChild(link);
        });
    </script>
</body>
</html>
